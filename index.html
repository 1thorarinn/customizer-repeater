<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Customizer Repeater by cristian-ungureanu</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Customizer Repeater</h1>
        <p></p>

        <p class="view"><a href="https://github.com/cristian-ungureanu/customizer-repeater">View the Project on GitHub <small>cristian-ungureanu/customizer-repeater</small></a></p>


        <ul>
          <li><a href="https://github.com/cristian-ungureanu/customizer-repeater/zipball/production">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/cristian-ungureanu/customizer-repeater/tarball/production">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/cristian-ungureanu/customizer-repeater">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="customizer-repeater" class="anchor" href="#customizer-repeater" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Customizer Repeater</h1>

<h2>
<a id="what-is-customizer-repeater" class="anchor" href="#what-is-customizer-repeater" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What is Customizer Repeater?</h2>

<p>Customizer Repeater is a custom control for the WordPress Theme Customizer. It's designed to be super user-friendly not only for your customers but for you too.</p>

<h2>
<a id="how-to-install" class="anchor" href="#how-to-install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to install?</h2>

<p>To install Customizer repeater copy the folder in the root of your theme and add the following line in functions.php, before you call your customizer.php file.</p>

<pre><code>     require get_template_directory() . '/customizer-repeater/functions.php';
     /**
      * Do not include twice the file below.
      */
     require get_template_directory() . '/inc/customizer.php';
</code></pre>

<p>After you did this there's only one step left. Open the folder customizer-repeater and edit config.ini. Add your theme's textdomain and change boxtitle with your theme's name.
That's all</p>

<h2>
<a id="how-to-use-backend-part" class="anchor" href="#how-to-use-backend-part" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use? (backend-part)</h2>

<p>There are eight types of fields that you can add in a box: (<code>customizer_repeater_image_control</code>), (<code>customizer_repeater_icon_control</code>), (<code>customizer_repeater_title_control</code>), (<code>customizer_repeater_subtitle_control</code>), (<code>customizer_repeater_text_control</code>), (<code>customizer_repeater_link_control</code>), (<code>customizer_repeater_shortcode_control</code>), (<code>customizer_repeater_repeater_control</code>). To choose what your repeater will look, just enable fields in your control's oprions. Here's an example, add the following code in your theme's customizer.php:</p>

<pre><code>      $wp_customize-&gt;add_setting( 'customizer_repeater_example', array(
         'sanitize_callback' =&gt; 'customizer_repeater_sanitize'
      ));
      $wp_customize-&gt;add_control( new Customizer_Repeater( $wp_customize, 'customizer_repeater_example', array(
    'label'   =&gt; esc_html__('Example','customizer-repeater'),
    'section' =&gt; 'my_section',
    'priority' =&gt; 1,
    'customizer_repeater_image_control' =&gt; true,
    'customizer_repeater_icon_control' =&gt; true,
    'customizer_repeater_title_control' =&gt; true,
    'customizer_repeater_subtitle_control' =&gt; true,
    'customizer_repeater_text_control' =&gt; true,
    'customizer_repeater_link_control' =&gt; true,
    'customizer_repeater_shortcode_control' =&gt; true,
    'customizer_repeater_repeater_control' =&gt; true
 ) ) );
</code></pre>

<p>Customizer Repeater also supports default input. If you want to add default input for your repeater here's how you do it:</p>

<pre><code>     $wp_customize-&gt;add_setting( 'customizer_repeater_example', array(
         'sanitize_callback' =&gt; 'customizer_repeater_sanitize',
         'default' =&gt; json_encode( array(
            /*Repeater's first item*/
            array("image_url" =&gt; get_template_directory_uri().'/images/companies/1.png' ,"link" =&gt; "#", "id" =&gt; "customizer_repeater_56d7ea7f40f56" ), //every item in default string should have an unique id, it helps for translation
            /*Repeater's second item*/
            array("image_url" =&gt; get_template_directory_uri().'/images/companies/1.png' ,"link" =&gt; "#", "id" =&gt; "customizer_repeater_56d7ea7f40f57" ),
            /*Repeater's third item*/
            array("image_url" =&gt; get_template_directory_uri().'/images/companies/1.png' ,"link" =&gt; "#", "id" =&gt; "customizer_repeater_56d7ea7f40f58" ),
            ) )
     ) );
</code></pre>

<h2>
<a id="how-to-use-frontend-part" class="anchor" href="#how-to-use-frontend-part" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How to use? (frontend-part)</h2>

<p>To get the input from your control just call it in the normal way:</p>

<pre><code>      $customizer_repeater_example = get_theme_mod('customizer_repeater_example', json_encode( array(/*The content from your default parameter or delete this argument if you don't want a default*/)) );
      /*This returns a json so we have to decode it*/
      $customizer_repeater_example_decoded = json_decode($customizer_repeater_example);
      foreach($customizer_repeater_example_decoded as $repeater_item){
          echo $repeater_item-&gt;icon_value;
          echo $repeater_item-&gt;text;
          echo $repeater_item-&gt;link;
          echo $repeater_item-&gt;image_url;
          echo $repeater_item-&gt;choice;
          echo $repeater_item-&gt;title;
          echo $repeater_item-&gt;subtitle;
          echo $repeater_item-&gt;shortcode;
          /*Social repeater is also a repeater so we need to decode it*/
          $social_repeater = json_decode($repeater_item-&gt;social_repeater);
          foreach($social_repeater as $social_repeater){
               echo $social_repeater-&gt;link;
               echo $social_repeater-&gt;icon;
          }
      }
</code></pre>

<h2>
<a id="contribute" class="anchor" href="#contribute" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contribute</h2>

<p>Customizer Repeater is not perfect, but hey, It works! Do you want to make it better? Feel free to fork this and make changes on development branch.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/cristian-ungureanu">cristian-ungureanu</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
